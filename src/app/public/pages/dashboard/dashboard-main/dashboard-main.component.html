<div class="container mx-auto gap-8 px-4 sm:px-6 lg:px-8 my-16 pb-20 min-h-[calc(100vh-21rem)]">
  <h1 class="heading-md font-bold text-primary-dark mb-8">Dashboard</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    @for (card of cards; track card.title) {
      <div class="bg-gray-100 p-6 rounded-lg flex flex-col h-full">
        <div class="flex-grow mb-4">
          <div
            class="mb-4 min-h-[70px]"
            [innerHTML]="card.icon"
          ></div>
          <h2 class="text-lg font-semibold text-black mb-2">
            {{ card.title }}
          </h2>

          <p class="text-black text-xs mb-4">
            {{ card.description }}
          </p>

          @if (card.link === '/dashboard/messaggi' && unreadTicketList.length > 0) {
            <div class="mb-4">
              <span class="bg-secondary text-black px-2 py-1 rounded-sm font-semibold text-sm">
                {{ unreadTicketList.length }} {{ unreadTicketList.length > 1 ? "Messaggi" : "Messaggio" }}
              </span>
            </div>
          }

          @if (card.extraText) {
            <p class="text-black text-xs mb-4">
              {{ card.extraText }}
            </p>
          }
        </div>

        <app-button
          class="w-full"
          [text]="'Vai alla sezione'"
          size="md"
          [hasBorder]="true"
          [icon]="true"
          (click)="goToSection(card.link)"
        ></app-button>
      </div>
    }
  </div>
</div>
